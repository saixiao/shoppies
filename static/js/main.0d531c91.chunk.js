(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"fetchMoviesByTitle",(function(){return ge})),n.d(a,"fetchMoviesByTitleAndYear",(function(){return xe})),n.d(a,"updateMovieList",(function(){return ke}));var c={};n.r(c),n.d(c,"fetchMoviesSharableLink",(function(){return Ce})),n.d(c,"updateNominatedList",(function(){return ye}));var i=n(5),r=n(0),o=n.n(r),s=n(10),l=n.n(s),d=(n(124),n(43)),h=n(44),u=n(46),p=n(45),f=(n(125),n(57)),j=n(75),b=n.n(j),m=n(94),O=n(12),v=n.n(O),g=n(197),x=n(210),k=n(198),C=n(216),y=n(4),S=n(66),w=n(67),E=n(50),N=n(107),L=n(196),T=n(189),D=n(191),M=n(192),P=n(214),I=n(194),B=n(108),U=n(195),A=n(187);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var H=r.createElement("style",{type:"text/css"},".st0{fill-rule:evenodd;clip-rule:evenodd;stroke:#000000;stroke-width:0.5;stroke-miterlimit:2.6131;}"),W=r.createElement("g",null,r.createElement("path",{className:"st0",d:"M93.13,79.5c12.05,0,21.82,9.77,21.82,21.82c0,12.05-9.77,21.82-21.82,21.82c-12.05,0-21.82-9.77-21.82-21.82 C71.31,89.27,81.08,79.5,93.13,79.5L93.13,79.5z M8.08,0.25h95.28c2.17,0,4.11,0.89,5.53,2.3c1.42,1.42,2.3,3.39,2.3,5.53v70.01 c-2.46-1.91-5.24-3.44-8.25-4.48V9.98c0-0.43-0.16-0.79-0.46-1.05c-0.26-0.26-0.66-0.46-1.05-0.46H9.94 c-0.43,0-0.79,0.16-1.05,0.46C8.63,9.19,8.43,9.58,8.43,9.98v70.02h0.03l31.97-30.61c1.28-1.18,3.29-1.05,4.44,0.23 c0.03,0.03,0.03,0.07,0.07,0.07l26.88,31.8c-4.73,5.18-7.62,12.08-7.62,19.65c0,3.29,0.55,6.45,1.55,9.4H8.08 c-2.17,0-4.11-0.89-5.53-2.3s-2.3-3.39-2.3-5.53V8.08c0-2.17,0.89-4.11,2.3-5.53S5.94,0.25,8.08,0.25L8.08,0.25z M73.98,79.35 l3.71-22.79c0.3-1.71,1.91-2.9,3.62-2.6c0.66,0.1,1.25,0.43,1.71,0.86l17.1,17.97c-2.18-0.52-4.44-0.79-6.78-0.79 C85.91,71.99,79.13,74.77,73.98,79.35L73.98,79.35z M81.98,18.19c3.13,0,5.99,1.28,8.03,3.32c2.07,2.07,3.32,4.9,3.32,8.03 c0,3.13-1.28,5.99-3.32,8.03c-2.07,2.07-4.9,3.32-8.03,3.32c-3.13,0-5.99-1.28-8.03-3.32c-2.07-2.07-3.32-4.9-3.32-8.03 c0-3.13,1.28-5.99,3.32-8.03C76.02,19.44,78.86,18.19,81.98,18.19L81.98,18.19z M85.82,88.05l19.96,21.6 c1.58-2.39,2.5-5.25,2.5-8.33c0-8.36-6.78-15.14-15.14-15.14C90.48,86.17,87.99,86.85,85.82,88.05L85.82,88.05z M100.44,114.58 l-19.96-21.6c-1.58,2.39-2.5,5.25-2.5,8.33c0,8.36,6.78,15.14,15.14,15.14C95.78,116.46,98.27,115.78,100.44,114.58L100.44,114.58z"}));function R(e,t){var n=e.title,a=e.titleId,c=z(e,["title","titleId"]);return r.createElement("svg",_({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.19 123.38",style:{enableBackground:"new 0 0 115.19 123.38"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,H,W)}var F=r.forwardRef(R),V=(n.p,Object(A.a)((function(e){return{root:{display:"flex",width:"100%",height:"140px"},media:{width:"100px",maxHeight:"100%"},title:{display:"flex",flexDirection:"column",justifyContent:"center"}}})));function X(e){var t=V(),n=e.movie,a=e.checked,c=e.onClick,r="transfer-list-item-".concat(n,"-label");return Object(i.jsx)(T.a,{role:"listitem",button:!0,onClick:c(n),children:Object(i.jsxs)(D.a,{className:t.root,children:[Object(i.jsx)(M.a,{children:Object(i.jsx)(P.a,{checked:-1!==a.indexOf(n),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":r}})}),Object(i.jsx)(I.a,{className:t.title,id:r,primary:"".concat(n.Title," (").concat(n.Year,")")}),"N/A"===n.Poster?Object(i.jsx)(B.a,{children:Object(i.jsx)(F,{})}):Object(i.jsx)(U.a,{className:t.media,image:n.Poster,title:"Live from space album cover"})]})})}var Y=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},J=function(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))},G=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).leftChecked=function(){var e=a.state,t=e.checked,n=e.left;return J(t,n)},a.rightChecked=function(){var e=a.state,t=e.checked,n=e.right;return J(t,n)},a.handleCheckedRight=function(){var e=a.state,t=e.right,n=e.left,c=e.checked,i=a.props,r=i.updateNominatedList,o=i.updateMovieList,s=i.setCookies;r(t.concat(a.leftChecked())),o(Y(n,a.leftChecked())),s(t.concat(a.leftChecked())),a.setState({right:t.concat(a.leftChecked()),left:Y(n,a.leftChecked()),checked:Y(c,a.leftChecked())})},a.handleCheckedLeft=function(){var e=a.state,t=e.right,n=e.left,c=e.checked,i=a.props,r=i.updateNominatedList,o=i.updateMovieList,s=i.setCookies;r(Y(t,a.rightChecked())),o(n.concat(a.rightChecked())),s(Y(t,a.rightChecked())),a.setState({right:Y(t,a.rightChecked()),left:n.concat(a.rightChecked()),checked:Y(c,a.rightChecked())})},a.handleToggle=function(e){return function(){var t=a.state.checked,n=t.indexOf(e),c=Object(w.a)(t);-1===n?c.push(e):c.splice(n,1),a.setState({checked:c})}},a.customList=function(e,t){var n=a.state.checked,c=a.props.classes;return Object(i.jsxs)(x.a,{children:[Object(i.jsx)(x.a,{className:c.listHeader,children:Object(i.jsx)(E.a,{className:c.listTitle,variant:"h6",children:t})}),Object(i.jsx)(N.a,{className:c.paper,children:Object(i.jsxs)(L.a,{dense:!0,component:"div",role:"list",children:[e.map((function(e,t){return Object(i.jsx)(X,{movie:e,checked:n,onClick:a.handleToggle},t)})),Object(i.jsx)(T.a,{})]})})]})};var c=a.props,r=c.left,o=c.right,s=c.checked;return a.state={left:r||[],right:o||[],checked:s||[]},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){e.left!==this.props.left&&this.setState({left:this.props.left}),e.right!==this.props.right&&this.setState({right:this.props.right})}},{key:"render",value:function(){var e=this.state,t=e.right,n=e.left,a=this.props,c=a.classes,r=a.leftTitle,o=a.rightTitle,s=a.maxNomSize,l=void 0===s?5:s,d=this.leftChecked();return Object(i.jsxs)(g.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:c.root,children:[Object(i.jsx)(g.a,{item:!0,children:this.customList(n,r)}),Object(i.jsx)(g.a,{item:!0,children:Object(i.jsxs)(g.a,{container:!0,direction:"column",alignItems:"center",children:[Object(i.jsx)(k.a,{variant:"outlined",size:"small",className:c.button,onClick:this.handleCheckedRight,disabled:0===d.length||t.length+d.length>l,"aria-label":"move selected right",children:">"}),Object(i.jsx)(k.a,{variant:"outlined",size:"small",className:c.button,onClick:this.handleCheckedLeft,disabled:0===this.rightChecked().length,"aria-label":"move selected left",children:"<"})]})}),Object(i.jsx)(g.a,{item:!0,children:this.customList(t,o)})]})}}]),n}(o.a.Component),K=Object(y.a)({root:{margin:"auto"},paper:{width:"500px",height:"500px",overflow:"auto"},button:{margin:"2rem"},listHeader:{height:"4rem",backgroundColor:"#008060"},listTitle:{color:"white",textAlign:"left",padding:"1rem"}})(G),q=n(201),Q=n(202),Z=n(68),$=n(199),ee=n(218),te=n(200),ne=n(193),ae=n(99),ce=n.n(ae),ie=Object(A.a)((function(e){return{icon:{color:"#008060"},searchInput:{backgroundColor:"white"}}}));function re(e){var t=e.onClick,n=e.label,a=ie(),c=o.a.useState(""),r=Object(Z.a)(c,2),s=r[0],l=r[1],d=function(){t&&t(s)};return Object(i.jsx)($.a,{variant:"outlined",children:Object(i.jsx)(ee.a,{onKeyDown:function(e){13===e.keyCode&&d()},className:a.searchInput,id:n,type:"text",value:s,onChange:function(e){l(e.target.value)},placeholder:n,endAdornment:Object(i.jsx)(te.a,{position:"end",children:Object(i.jsx)(ne.a,{"aria-label":"search",onClick:d,edge:"end",children:Object(i.jsx)(ce.a,{className:a.icon})})})})})}var oe=Object(A.a)((function(e){return{appBar:{backgroundColor:e.primary}}}));function se(e){var t=oe(),n=e.title,a=e.onSearch,c=void 0===a?function(){}:a;return Object(i.jsx)(q.a,{position:"static",className:t.appBar,children:Object(i.jsx)(x.a,{mt:"1rem",mb:"1rem",ml:"2rem",children:Object(i.jsxs)(Q.a,{children:[Object(i.jsx)(E.a,{variant:"h4",noWrap:!0,children:n}),Object(i.jsx)(x.a,{ml:"2rem",children:Object(i.jsx)(re,{onClick:c,label:"Search for Movies..."})})]})})})}var le=["CREATE","DELETE","INDEX","NEW","SHOW","UPDATE"],de=v.a.chain([["movies",[]],["nominated",[]]]).map((function(e){var t,n,a=Object(Z.a)(e,2),c=a[0],i=a[1];return[c,(t=c,n=v.a.concat(le,i),v.a.fromPairs(v.a.map(n,(function(e){return[e,"".concat(v.a.toUpper(t),"_").concat(v.a.toUpper(e))]}))))]})).fromPairs().value(),he=n(100),ue=n.n(he),pe=n(101),fe=n.n(pe),je="https://www.omdbapi.com",be="&apikey=29dc1524",me=function(e){var t=v.a.get(e,"data",{});return v.a.has(t,["payload"])?t.payload:v.a.omit(t,["errors"])},Oe=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"GET"!==e||v.a.isEmpty(n.data)||(n.params=n.data),ue()(Object(f.a)({method:e,url:"".concat(je,"/").concat(t).concat(be),timeout:6e4,paramsSerializer:function(e){return fe.a.stringify(e,{arrayFormat:"brackets"})}},n)).then(me).catch((function(e){throw e}))}},ve=v.a.chain(["get","post","delete","patch","put"]).map((function(e){return[e,Oe(v.a.toUpper(e))]})).fromPairs().value(),ge=function(e){return function(t){ve.get("?s=".concat(e)).then((function(e){return t({type:de.movies.UPDATE,payload:e})})).catch((function(e){return t({type:"",payload:e})}))}},xe=function(e,t){return function(n){ve.get("?s=".concat(e,"&y=").concat(t)).then((function(e){return n({type:de.movies.UPDATE,payload:e})})).catch((function(e){return n({type:"",payload:e})}))}},ke=function(e){return{type:de.movies.NEW,payload:e}},Ce=function(e){return function(t){ve.get("?i=".concat(e)).then((function(e){t({type:de.nominated.UPDATE,payload:e})})).catch((function(e){return t({type:"",payload:e})}))}},ye=function(e){return{type:de.nominated.NEW,payload:e}},Se=n(215),we=n(203),Ee=n(204),Ne=n(211),Le=n(206),Te=n(102),De=Object(A.a)({dialogContent:{width:"400px"}});function Me(e){var t=De(),n=e.handleClose,a=e.open,c=e.title,r=e.url,o=e.inputDisabled,s=e.handleOpenSnackBar;return Object(i.jsxs)(Se.a,{onClose:n,open:a,children:[Object(i.jsx)(we.a,{onClose:n,children:c}),Object(i.jsx)(Ee.a,{dividers:!0,className:t.dialogContent,children:Object(i.jsx)(Ne.a,{className:t.dialogContent,defaultValue:"".concat(window.location.host,"/").concat(r),disabled:o})}),Object(i.jsxs)(Le.a,{children:[Object(i.jsx)(Te.CopyToClipboard,{text:"".concat(window.location.host,"/").concat(r),children:Object(i.jsx)(k.a,{autoFocus:!0,onClick:function(){s(),n()},color:"primary",children:"Copy"})}),Object(i.jsx)(k.a,{autoFocus:!0,onClick:n,color:"primary",children:"Close"})]})]})}var Pe=n(212),Ie=n(207);var Be=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).onSearch=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.fetchMoviesByTitle(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClipboardClose=function(){a.setState({clipboardOpen:!1})},a.handleClipboardOpen=function(){a.setState({clipboardOpen:!0})},a.getShareableUrl=function(){var e=a.props.nominated,t="";return v.a.forEach(e,(function(e){t+=",".concat(e.imdbID)})),t.substring(1)},a.setCookies=function(e){a.props.cookies.set("nominations_list",e)},a.state={clipboardOpen:!1,openSnackBar:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.cookies.get("nominations_list"),t=new URL(window.location.href).searchParams.get("movieIds");if(!(this.props.nominated.length>=5))if(t)for(var n=v.a.split(t,","),a=0;a<n.length;a++)this.props.fetchMoviesSharableLink(n[a]);else e&&this.props.updateNominatedList(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.movies,c=t.nominated,r=this.state,o=r.clipboardOpen,s=r.openSnackBar,l=function(e,t){var n={},a=[];return v.a.forEach(t,(function(e){n[e.imdbID]=!0})),v.a.forEach(e,(function(e){n[e.imdbID]||a.push(e)})),a}(a,c);return Object(i.jsxs)(g.a,{children:[Object(i.jsx)(se,{title:"Shoppies",onSearch:this.onSearch}),Object(i.jsx)(x.a,{className:n.pageContainer,children:Object(i.jsx)(K,{rightTitle:"Nominations",leftTitle:"Searches for...",left:l,right:c,updateNominatedList:this.props.updateNominatedList,updateMovieList:this.props.updateMovieList,setCookies:this.setCookies})}),Object(i.jsx)(x.a,{children:Object(i.jsx)(k.a,{variant:"outlined",disabled:c.length<5,onClick:this.handleClipboardOpen,children:"SHARE"})}),Object(i.jsx)(Me,{title:"Share Your Nomination List",open:o,inputDisabled:!0,url:"?movieIds=".concat(this.getShareableUrl()),handleClose:this.handleClipboardClose,handleOpenSnackBar:function(){e.setState({openSnackBar:!0})}}),Object(i.jsx)(C.a,{open:s,autoHideDuration:2e3,onClose:function(){e.handleClipboardClose(),e.setState({openSnackBar:!1})},children:Object(i.jsx)(Pe.a,{onClick:function(){e.setState({openSnackBar:!1})},severity:"success",children:"Url Copied"})})]})}}]),n}(o.a.Component),Ue=Object(y.a)({pageContainer:{padding:"4rem"}})(Be),Ae=Object(S.b)((function(e){return v.a.pick(e,["movies","nominated"])}),Object(f.a)(Object(f.a)({},a),c))(Object(Ie.a)(Ue)),_e=n(33),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case de.movies.UPDATE:return v.a.get(a,"Search");case de.movies.SHOW:case de.movies.NEW:return a;default:return e}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case de.nominated.UPDATE:return[].concat(Object(w.a)(e),[a]);case de.nominated.NEW:return a;case de.nominated.SHOW:default:return e}},We=Object(_e.c)({movies:ze,nominated:He}),Re=n(103),Fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_e.d,Ve=function(e){var t=[Re.a];return Fe(_e.a.apply(void 0,t))(_e.e)(We,{})},Xe=n(208),Ye=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).store=Ve(e),a}return Object(h.a)(n,[{key:"render",value:function(){return Object(i.jsx)(S.a,{store:this.store,children:Object(i.jsx)(Xe.a,{children:Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(Ae,{})})})})}}]),n}(o.a.Component),Je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,220)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},Ge=n(209),Ke=n(104),qe=Object(Ke.a)({palette:{primary:{500:"#008060"},text:{primary:"#283747"}}});l.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(Ge.a,{theme:qe,children:Object(i.jsx)(Ye,{})})}),document.getElementById("root")),Je()}},[[159,1,2]]]);
//# sourceMappingURL=main.0d531c91.chunk.js.map